v {xschem version=3.1.0 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
T {launcher.sym available in: 
/foss/tools/xschem/635b6ca/share/xschem/xs
chem_library/devices
Settings: 
name=h1
descr="Annotate" 
tclcommand="set show_hidden_texts 1; 
xschem annotate_op"
} 2580 -1320 0 0 0.2 0.2 {}
T {Ctrl+Click on Annotate to 
update all annotations} 2580 -1380 0 0 0.2 0.2 {}
T {Hints:
Click on "Insert Symbol" to add new components
Click on component + "q" to change settings
Press "c" to copy and "m" to move components
Press "w" to draw wires
In STIMULI: write intro.raw - name of raw file has to match schematic name!} 2140 -1450 0 0 0.2 0.2 {}
N 320 -680 320 -660 {
lab=VT2}
N 320 -680 580 -680 {
lab=VT2}
N 580 -680 580 -660 {
lab=VT2}
N 320 -600 320 -540 {
lab=#net1}
N 580 -600 580 -540 {
lab=#net2}
N 360 -300 540 -300 {
lab=Vbias}
N 320 -240 580 -240 {
lab=vss}
N 320 -270 320 -240 {
lab=vss}
N 580 -270 580 -240 {
lab=vss}
N 400 -350 450 -350 {
lab=Vbias}
N 450 -730 450 -680 {
lab=VT2}
N 450 -830 450 -790 {
lab=VT2}
N 490 -1030 770 -1030 {
lab=#net3}
N 450 -1080 450 -1060 {
lab=Vdd}
N 450 -1080 810 -1080 {
lab=Vdd}
N 810 -1080 810 -1060 {
lab=Vdd}
N 430 -1030 450 -1030 {
lab=Vdd}
N 430 -1080 430 -1030 {
lab=Vdd}
N 430 -1080 450 -1080 {
lab=Vdd}
N 810 -1030 830 -1030 {
lab=Vdd}
N 830 -1080 830 -1030 {
lab=Vdd}
N 810 -1080 830 -1080 {
lab=Vdd}
N 320 -630 350 -630 {
lab=VT2}
N 560 -630 580 -630 {
lab=VT2}
N 290 -300 320 -300 {
lab=vss}
N 290 -300 290 -270 {
lab=vss}
N 580 -300 600 -300 {
lab=vss}
N 600 -300 600 -280 {
lab=vss}
N 600 -280 600 -260 {
lab=vss}
N 290 -270 290 -260 {
lab=vss}
N 180 -630 280 -630 {
lab=VinP}
N 620 -630 710 -630 {
lab=VinN}
N 810 -730 810 -550 {
lab=#net3}
N 810 -380 810 -330 {
lab=#net3}
N 580 -240 810 -240 {
lab=vss}
N 810 -270 810 -240 {
lab=vss}
N 290 -260 290 -240 {
lab=vss}
N 290 -240 320 -240 {
lab=vss}
N 600 -260 600 -240 {
lab=vss}
N 810 -300 830 -300 {
lab=vss}
N 830 -300 830 -240 {
lab=vss}
N 810 -240 830 -240 {
lab=vss}
N 830 -1080 1390 -1080 {
lab=Vdd}
N 1390 -1080 1390 -1070 {
lab=Vdd}
N 1190 -1080 1190 -1070 {
lab=Vdd}
N 1180 -1040 1190 -1040 {
lab=Vdd}
N 1160 -1040 1180 -1040 {
lab=Vdd}
N 1160 -1080 1160 -1040 {
lab=Vdd}
N 1390 -1040 1410 -1040 {
lab=Vdd}
N 1410 -1080 1410 -1040 {
lab=Vdd}
N 1390 -1080 1410 -1080 {
lab=Vdd}
N 1230 -620 1350 -620 {
lab=VCM}
N 1300 -660 1300 -620 {
lab=VCM}
N 1160 -620 1190 -620 {
lab=vss}
N 1160 -620 1160 -590 {
lab=vss}
N 1390 -620 1410 -620 {
lab=vss}
N 1410 -620 1410 -600 {
lab=vss}
N 1390 -590 1390 -510 {
lab=#net2}
N 1190 -590 1190 -510 {
lab=#net1}
N 1390 -510 1390 -480 {
lab=#net2}
N 1410 -1080 1950 -1080 {
lab=Vdd}
N 1750 -1050 1770 -1050 {
lab=Vdd}
N 1770 -1080 1770 -1050 {
lab=Vdd}
N 2760 -1050 2790 -1050 {
lab=Vdd}
N 2760 -1080 2760 -1050 {
lab=Vdd}
N 2790 -740 2790 -640 {
lab=Out_n}
N 2790 -350 2790 -310 {
lab=Out_n}
N 1750 -350 1750 -310 {
lab=Out_p}
N 2790 -250 2790 -240 {
lab=vss}
N 1750 -750 1750 -640 {
lab=Out_p}
N 830 -240 1730 -240 {
lab=vss}
N 1760 -240 1980 -240 {
lab=vss}
N 1750 -250 1750 -240 {
lab=vss}
N 1740 -280 1750 -280 {
lab=vss}
N 1740 -280 1740 -240 {
lab=vss}
N 2790 -280 2800 -280 {
lab=vss}
N 2800 -280 2800 -240 {
lab=vss}
N 2790 -240 2800 -240 {
lab=vss}
N 1790 -280 1800 -280 {
lab=VCMFB}
N 2740 -280 2750 -280 {
lab=VCMFB}
N 1750 -640 1750 -520 {
lab=Out_p}
N 2790 -640 2790 -520 {
lab=Out_n}
N 1450 -1225 1450 -1200 {
lab=0}
N 1450 -1305 1450 -1285 {
lab=VinP}
N 1190 -1300 1190 -1260 {
lab=Vdd}
N 1190 -1200 1270 -1200 {
lab=0}
N 1270 -1200 1350 -1200 {
lab=0}
N 1350 -1300 1350 -1260 {
lab=Vss}
N 1135 -1200 1190 -1200 {
lab=0}
N 1270 -1300 1270 -1260 {
lab=VinN}
N 1055 -1200 1135 -1200 {
lab=0}
N 1350 -1200 1450 -1200 {
lab=0}
N 1055 -1300 1055 -1260 {
lab=VCM}
N 810 -550 810 -440 {
lab=#net3}
N 1750 -520 1750 -410 {
lab=Out_p}
N 2790 -520 2790 -410 {
lab=Out_n}
N 580 -460 580 -430 {
lab=#net2}
N 320 -460 320 -430 {
lab=#net1}
N 1230 -1040 1250 -1040 {
lab=drain_m19}
N 1330 -1040 1350 -1040 {
lab=drain_m18}
N 1730 -240 1760 -240 {
lab=vss}
N 2760 -1080 2790 -1080 {
lab=Vdd}
N 1190 -700 1190 -650 {
lab=drain_m19}
N 1390 -700 1390 -650 {
lab=drain_m18}
N 1190 -760 1190 -700 {
lab=drain_m19}
N 1390 -760 1390 -700 {
lab=drain_m18}
N 1190 -1010 1190 -980 {
lab=drain_m19}
N 1390 -1010 1390 -980 {
lab=drain_m18}
N 580 -540 580 -460 {
lab=#net2}
N 320 -540 320 -460 {
lab=#net1}
N 450 -680 450 -660 {
lab=VT2}
N 350 -630 560 -630 {
lab=VT2}
N 450 -660 450 -630 {
lab=VT2}
N 1250 -1040 1250 -980 {
lab=drain_m19}
N 1190 -980 1250 -980 {
lab=drain_m19}
N 1330 -1040 1330 -980 {
lab=drain_m18}
N 1330 -980 1390 -980 {
lab=drain_m18}
N 1950 -1080 2700 -1080 {
lab=Vdd}
N 1980 -240 2730 -240 {
lab=vss}
N 2730 -240 2790 -240 {
lab=vss}
N 2700 -1080 2760 -1080 {
lab=Vdd}
N 1450 -1200 1740 -1200 {
lab=0}
N 1740 -1240 1740 -1200 {
lab=0}
N 1740 -1335 1740 -1300 {
lab=Q1}
N 1735 -1200 1915 -1200 {
lab=0}
N 170 -630 180 -630 {
lab=VinP}
N 1750 -1020 1750 -980 {
lab=Out_p}
N 1190 -810 1190 -760 {
lab=drain_m19}
N 710 -350 770 -350 {
lab=Vbias}
N 450 -350 710 -350 {
lab=Vbias}
N 1920 -1240 1920 -1200 {
lab=0}
N 1910 -1200 1920 -1200 {
lab=0}
N 1920 -1340 1920 -1300 {
lab=Q2}
N 1390 -810 1390 -760 {
lab=drain_m18}
N 320 -510 1190 -510 {
lab=#net1}
N 580 -480 1390 -480 {
lab=#net2}
N 450 -1000 450 -830 {
lab=VT2}
N 1190 -980 1190 -810 {
lab=drain_m19}
N 1390 -980 1390 -810 {
lab=drain_m18}
N 1750 -980 1750 -810 {
lab=Out_p}
N 2790 -1020 2790 -840 {
lab=Out_n}
N 2830 -1050 2850 -1050 {
lab=drain_m18}
N 1670 -1050 1710 -1050 {
lab=drain_m19}
N 450 -350 450 -300 {
lab=Vbias}
N 770 -350 770 -300 {
lab=Vbias}
N 810 -440 810 -380 {
lab=#net3}
N 1750 -810 1750 -750 {
lab=Out_p}
N 2790 -410 2790 -350 {
lab=Out_n}
N 1800 -280 2740 -280 {
lab=VCMFB}
N 1750 -410 1750 -350 {
lab=Out_p}
N 2790 -850 2790 -740 {
lab=Out_n}
N 1190 -860 1670 -860 {
lab=drain_m19}
N 1670 -1050 1670 -860 {
lab=drain_m19}
N 1390 -820 1790 -820 {
lab=drain_m18}
N 1790 -990 1790 -820 {
lab=drain_m18}
N 1790 -1010 2850 -1010 {
lab=drain_m18}
N 2850 -1050 2850 -1010 {
lab=drain_m18}
N 1790 -1010 1790 -990 {
lab=drain_m18}
N 320 -370 320 -330 {
lab=#net1}
N 580 -370 580 -330 {
lab=#net2}
N 320 -430 320 -370 {
lab=#net1}
N 580 -430 580 -370 {
lab=#net2}
N 50 -450 50 -420 {
lab=Vdd}
N 50 -360 50 -320 {
lab=Vbias}
N 20 -290 50 -290 {
lab=vss}
N 20 -290 20 -240 {
lab=vss}
N 20 -240 50 -240 {
lab=vss}
N 50 -260 50 -240 {
lab=vss}
N 90 -290 120 -290 {
lab=Vbias}
N 120 -340 120 -290 {
lab=Vbias}
N 50 -340 120 -340 {
lab=Vbias}
N 450 -790 450 -730 {
lab=VT2}
N 810 -1000 810 -730 {
lab=#net3}
N 750 -1030 750 -970 {
lab=#net3}
N 750 -970 810 -970 {
lab=#net3}
N 2230 -620 2230 -600 {
lab=vss}
N 2150 -670 2190 -670 {
lab=Out_n}
N 2150 -770 2190 -770 {
lab=Out_p}
N 2460 -640 2480 -640 {
lab=VCMFB}
N 2190 -730 2190 -700 {
lab=f1}
N 2190 -700 2230 -700 {
lab=f1}
N 2230 -700 2230 -680 {
lab=f1}
N 2230 -600 2340 -600 {
lab=vss}
N 2340 -620 2340 -600 {
lab=vss}
N 2300 -630 2300 -600 {
lab=vss}
N 2190 -630 2190 -600 {
lab=vss}
N 2190 -600 2230 -600 {
lab=vss}
N 2300 -780 2300 -670 {
lab=f2}
N 2230 -800 2300 -800 {
lab=f2}
N 2300 -800 2300 -780 {
lab=f2}
N 2340 -700 2340 -680 {
lab=f3}
N 2340 -700 2390 -700 {
lab=f3}
N 2390 -640 2400 -640 {
lab=vss}
N 2390 -700 2410 -700 {
lab=f3}
N 2390 -640 2390 -600 {
lab=vss}
N 2340 -600 2390 -600 {
lab=vss}
N 2230 -720 2280 -720 {
lab=vss}
N 2280 -720 2280 -600 {
lab=vss}
N 2290 -600 2290 -580 {
lab=vss}
N 2450 -700 2560 -700 {
lab=VCM}
N 2150 -540 2430 -540 {
lab=VCM}
N 2430 -540 2560 -540 {
lab=VCM}
N 2560 -700 2560 -540 {
lab=VCM}
N 2290 -580 2290 -490 {
lab=vss}
N 2150 -490 2290 -490 {
lab=vss}
N 2230 -800 2230 -780 {
lab=f2}
N 1750 -770 2150 -770 {
lab=Out_p}
N 2480 -640 2480 -280 {
lab=VCMFB}
N 2410 -690 2410 -680 {
lab=VCM}
N 2410 -690 2450 -690 {
lab=VCM}
N 2450 -700 2450 -690 {
lab=VCM}
N 2430 -680 2450 -680 {
lab=f3}
N 2430 -700 2430 -680 {
lab=f3}
N 2410 -700 2430 -700 {
lab=f3}
N 50 -240 290 -240 {
lab=vss}
C {devices/launcher.sym} 610 -1270 0 0 {name=h1
descr="Annotate" 
tclcommand="set show_hidden_texts 1; xschem annotate_op"
}
C {sky130_fd_pr/corner.sym} 770 -1490 0 0 {name=CORNER2 only_toplevel=false corner=tt
}
C {devices/ngspice_get_value.sym} 2200 -1330 0 0 {name=r1 node=v(@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 2260 -1330 0 0 {name=r2 node=v(@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_value.sym} 2200 -1300 0 0 {name=r3 node=v(@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 2260 -1300 0 0 {name=r4 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_expr.sym} 2200 -1270 0 0 {name=r5 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 2260 -1270 0 0 {name=r6 node=@m.xm1.msky130_fd_pr__nfet_01v8_lvt[gm]
descr="gm"}
C {devices/ngspice_get_expr.sym} 2200 -1240 0 0 {name=r7 node="[format %.3g [expr 1 / [ngspice::get_node \\\{@m.xm1.msky130_fd_pr__nfet_01v8_lvt[gds]\\\}]]]"
descr="rds"}
C {devices/ngspice_get_value.sym} 2260 -1240 0 0 {name=r8 node=i(@m.xm1.msky130_fd_pr__nfet_01v8_lvt[id])
descr="id"}
C {devices/ngspice_get_value.sym} 2310 -1330 0 0 {name=r9 node=@m.xm1.msky130_fd_pr__nfet_01v8_lvt[cgs]
descr="cgs"}
C {devices/ngspice_get_value.sym} 2400 -1330 0 0 {name=r10 node=v(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 2460 -1330 0 0 {name=r11 node=v(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_value.sym} 2400 -1300 0 0 {name=r12 node=v(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 2460 -1300 0 0 {name=r13 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_expr.sym} 2400 -1270 0 0 {name=r14 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 2460 -1270 0 0 {name=r15 node=@m.xm2.msky130_fd_pr__pfet_01v8_lvt[gm]
descr="gm"}
C {devices/ngspice_get_expr.sym} 2400 -1240 0 0 {name=r16 node="[format %.3g [expr 1 / [ngspice::get_node \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[gds]\\\}]]]"
descr="rds"}
C {devices/ngspice_get_value.sym} 2460 -1240 0 0 {name=r17 node=i(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[id])
descr="id"}
C {devices/ngspice_get_value.sym} 2510 -1330 0 0 {name=r18 node=@m.xm2.msky130_fd_pr__pfet_01v8_lvt[cgs]
descr="cgs"}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 300 -630 0 0 {name=M4
L=10
W=90
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 600 -630 0 1 {name=M5
L=10
W=90
nf=1
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 340 -300 0 1 {name=M8
L=20
W=10
nf=1 
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 560 -300 0 0 {name=M9
L=20
W=10
nf=1 
mult=4
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 430 -240 1 1 {name=p2 sig_type=std_logic lab=vss}
C {devices/lab_pin.sym} 610 -1080 1 0 {name=p3 sig_type=std_logic lab=Vdd}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1370 -1040 0 0 {name=M16
L=20
W=6
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1210 -1040 0 1 {name=M17
L=20
W=6
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1370 -620 0 0 {name=M18
L=20
W=1
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1210 -620 0 1 {name=M19
L=20
W=1
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 1300 -660 0 0 {name=p5 sig_type=std_logic lab=VCM}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1730 -1050 0 0 {name=M20
L=20
W=6
nf=1
mult=10
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 2810 -1050 0 1 {name=M21
L=20
W=6
nf=1
mult=10
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 2770 -280 0 0 {name=M23
L=20
W=6
nf=1 
mult=30
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 1770 -280 0 1 {name=M25
L=20
W=6
nf=1 
mult=30
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/vsource_arith.sym} 1450 -1255 0 0 {name=E2 VOL="'0.9'"}
C {devices/lab_pin.sym} 1450 -1300 1 0 {name=p8 sig_type=std_logic lab=VinP}
C {devices/vsource.sym} 1190 -1230 0 0 {name=V1 value=1.8}
C {devices/vsource.sym} 1350 -1230 0 0 {name=V2 value=0}
C {devices/lab_pin.sym} 1205 -1200 3 0 {name=p9 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 1270 -1300 1 0 {name=p10 sig_type=std_logic lab=VinN}
C {devices/lab_pin.sym} 1190 -1300 1 0 {name=p11 sig_type=std_logic lab=Vdd}
C {devices/lab_pin.sym} 1350 -1300 3 1 {name=p12 sig_type=std_logic lab=Vss}
C {devices/lab_pin.sym} 1055 -1300 1 0 {name=p14 sig_type=std_logic lab=VCM}
C {devices/vsource.sym} 1055 -1230 0 0 {name=V5 value=0.9}
C {devices/lab_pin.sym} 1390 -680 0 1 {name=p16 sig_type=std_logic lab=drain_m18}
C {devices/lab_pin.sym} 1190 -680 0 0 {name=p17 sig_type=std_logic lab=drain_m19}
C {devices/lab_pin.sym} 580 -680 0 1 {name=p21 sig_type=std_logic lab=VT2}
C {devices/launcher.sym} 610 -1210 0 0 {name=h2 
descr="Simulate" 
tclcommand="xschem netlist; xschem simulate"}
C {devices/lab_pin.sym} 1750 -670 0 0 {name=p27 sig_type=std_logic lab=Out_p}
C {devices/lab_pin.sym} 1740 -1335 1 0 {name=p33 sig_type=std_logic lab=Q1}
C {devices/lab_pin.sym} 710 -630 2 0 {name=p40 sig_type=std_logic lab=VinN}
C {devices/lab_pin.sym} 170 -630 0 0 {name=p41 sig_type=std_logic lab=VinP}
C {devices/ngspice_get_value.sym} 330 -1020 0 0 {name=r46 node=v(@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/lab_pin.sym} 400 -350 0 0 {name=p1 sig_type=std_logic lab=Vbias}
C {devices/title.sym} 905 -35 0 0 {name=l1 author="Amirhossein Zanjani"}
C {devices/vsource.sym} 1920 -1270 0 0 {name=V9 value="pulse 0 1 0 0 0 125u 350u"}
C {devices/lab_pin.sym} 1920 -1340 1 0 {name=p34 sig_type=std_logic lab=Q2}
C {devices/vsource.sym} 1740 -1270 0 0 {name=V7 value="pulse 1 0 0 0 0 125u 350u"}
C {devices/ngspice_get_value.sym} 330 -1050 0 0 {name=r24 node=v(@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_value.sym} 880 -1050 0 0 {name=r25 node=v(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_value.sym} 880 -1020 0 0 {name=r26 node=v(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_expr.sym} 330 -990 0 0 {name=r27 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_expr.sym} 880 -990 0 0 {name=r28 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 330 -960 0 0 {name=r29 node=v(@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_value.sym} 880 -960 0 0 {name=r30 node=v(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 330 -930 0 0 {name=r31 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm1.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_expr.sym} 880 -930 0 0 {name=r32 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 30 -650 0 0 {name=r19 node=v(@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 30 -680 0 0 {name=r20 node=v(@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 30 -620 0 0 {name=r23 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 30 -590 0 0 {name=r43 node=v(@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 30 -560 0 0 {name=r44 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm10.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 650 -660 0 0 {name=r47 node=v(@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 650 -690 0 0 {name=r48 node=v(@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 650 -630 0 0 {name=r49 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 650 -600 0 0 {name=r50 node=v(@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 650 -570 0 0 {name=r51 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 1060 -1020 0 0 {name=r52 node=v(@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 1060 -1050 0 0 {name=r53 node=v(@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 1060 -990 0 0 {name=r54 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 1060 -960 0 0 {name=r55 node=v(@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 1060 -930 0 0 {name=r56 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 1610 -1020 0 0 {name=r62 node=v(@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 1610 -1050 0 0 {name=r63 node=v(@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 1610 -990 0 0 {name=r64 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 1610 -960 0 0 {name=r65 node=v(@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 1610 -930 0 0 {name=r66 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm20.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 2870 -1030 0 0 {name=r67 node=v(@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 2870 -1060 0 0 {name=r68 node=v(@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 2870 -1000 0 0 {name=r69 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 2870 -970 0 0 {name=r70 node=v(@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 2870 -940 0 0 {name=r71 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm21.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} -20 -300 0 1 {name=r72 node=v(@m.xm8.msky130_fd_pr__nfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} -20 -330 0 1 {name=r73 node=v(@m.xm8.msky130_fd_pr__nfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} -20 -270 0 1 {name=r74 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm8.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm8.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} -20 -240 0 1 {name=r75 node=v(@m.xm8.msky130_fd_pr__nfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_value.sym} 640 -290 0 0 {name=r77 node=v(@m.xm9.msky130_fd_pr__nfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 640 -320 0 0 {name=r78 node=v(@m.xm9.msky130_fd_pr__nfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 640 -260 0 0 {name=r79 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm9.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm9.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 640 -230 0 0 {name=r80 node=v(@m.xm9.msky130_fd_pr__nfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_value.sym} 1480 -630 0 0 {name=r82 node=v(@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 1480 -660 0 0 {name=r83 node=v(@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 1480 -600 0 0 {name=r84 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 1480 -570 0 0 {name=r85 node=v(@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 1480 -540 0 0 {name=r86 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm18.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/ngspice_get_value.sym} 1050 -630 0 0 {name=r87 node=v(@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 1050 -660 0 0 {name=r88 node=v(@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 1050 -600 0 0 {name=r89 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 1050 -570 0 0 {name=r90 node=v(@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 1050 -540 0 0 {name=r91 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm19.msky130_fd_pr__nfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 470 -1030 0 1 {name=M1
L=20
W=2
nf=1
mult=6
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 790 -1030 0 0 {name=M2
L=20
W=2
nf=1
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {devices/code.sym} 560 -1490 0 0 {name=STIMULI
only_toplevel=false
value="
.options savecurrents
*ic v(VM5)=0.9 v(VM6)=0.9
.control


save all

save @m.xm11.msky130_fd_pr__pfet_01v8_lvt[id]
save @m.xm11.msky130_fd_pr__pfet_01v8_lvt[vgs]


*nmos
save @m.xm3.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm3.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm3.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm6.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm6.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm6.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm8.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm8.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm8.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm9.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm9.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm9.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm18.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm18.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm18.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm19.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm19.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm19.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm25.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm25.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm25.msky130_fd_pr__nfet_01v8_lvt[vds]

*pmos

save @m.xm1.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm1.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm1.msky130_fd_pr__pfet_01v8_lvt[vds]


save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds]


save @m.xm10.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm10.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm10.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm13.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm13.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm13.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm4.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm4.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm4.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm5.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm5.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm5.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm16.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm16.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm16.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm17.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm17.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm3.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm3.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm3.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm20.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm20.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm20.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm21.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm21.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm21.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm7.msky130_fd_pr__nfet_01v8_lvt[vth]

save @m.xm1.msky130_fd_pr__pfet_01v8[vgs]

save @m.xm1.msky130_fd_pr__nfet_01v8_lvt[gm]


save @m.xm1.msky130_fd_pr__nfet_01v8_lvt[gds]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[gm]

save @m.xm23.msky130_fd_pr__nfet_01v8[cgs]
save @m.xm4.msky130_fd_pr__pfet_01v8[cgs]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[cgs]



save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[gds]


op
*remzerovec
write introlvt.raw
*set appendwrite

*dc V1 0 1.8 0.01
*plot @m.xm1.msky130_fd_pr__nfet_01v8_lvt[id] @m.xm2.msky130_fd_pr__pfet_01v8_lvt[id]
*remzerovec
*write intro.raw

.endc
.control
let vth=@M.XM25.msky130_fd_pr__nfet_01v8_lvt[vgs]


noise V(Out_p,Out_n) V3 dec 100 0.1 128
print inoise_total onoise_total
setplot noise1
plot inoise_spectrum




tran 1n 1u
save all
plot v(Out_p)
plot v(Out_p)-v(Out_n)
plot v(@m.xm25.msky130_fd_pr__nfet_01v8_lvt[vth]) v(@m.xm25.msky130_fd_pr__nfet_01v8_lvt[vgs])
plot v(@m.xm25.msky130_fd_pr__nfet_01v8_lvt[vds])-v(@m.xm25.msky130_fd_pr__nfet_01v8_lvt[vgs])+v(@m.xm25.msky130_fd_pr__nfet_01v8_lvt[vth])

.endc



"}
C {devices/ngspice_get_value.sym} 1480 -1020 0 0 {name=r22 node=v(@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth])
descr="vth"}
C {devices/ngspice_get_value.sym} 1480 -1050 0 0 {name=r57 node=v(@m.xm16.msky130_fd_pr__pfet_01v8_lvt[vgs])
descr="vgs"}
C {devices/ngspice_get_expr.sym} 1480 -990 0 0 {name=r58 node="[format %.2g [expr [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] - [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vod"}
C {devices/ngspice_get_value.sym} 1480 -960 0 0 {name=r59 node=v(@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vds])
descr="vds"}
C {devices/ngspice_get_expr.sym} 1480 -930 0 0 {name=r60 node="[format %.3g [expr [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vds]\\\}] - [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vgs]\\\}] + [ngspice::get_voltage \\\{@m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth]\\\}]]]"
descr="vds-vod"}
C {devices/code.sym} 360 -1490 0 0 {name=STDCELLS_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
.include $::SKYWATER_STDCELLS/sky130_fd_sc_hd.spice
"
spice_ignore=false}
C {devices/vsource.sym} 1270 -1230 0 0 {name=V3 value="0.9 AC 1"}
C {devices/lab_pin.sym} 1160 -590 1 1 {name=p6 sig_type=std_logic lab=vss}
C {devices/lab_pin.sym} 1410 -600 1 1 {name=p7 sig_type=std_logic lab=vss}
C {devices/lab_pin.sym} 2790 -670 0 1 {name=p25 sig_type=std_logic lab=Out_n}
C {devices/isource.sym} 50 -390 0 1 {name=I0 value=50n}
C {devices/lab_pin.sym} 50 -450 3 1 {name=p47 sig_type=std_logic lab=Vdd}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 70 -290 0 1 {name=M3
L=20
W=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/lab_pin.sym} 120 -340 0 1 {name=p48 sig_type=std_logic lab=Vbias}
C {sky130_fd_pr/nfet_01v8_lvt.sym} 790 -300 0 0 {name=M6
L=20
W=10
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {devices/vcvs.sym} 2230 -650 0 0 {name=E3 value=-1
}
C {devices/vcvs.sym} 2230 -750 0 0 {name=E4 value=1}
C {devices/vcvs.sym} 2340 -650 0 0 {name=E5 value=0.5}
C {devices/vcvs.sym} 2430 -640 1 0 {name=E6 value=\{500\}

}
C {devices/lab_pin.sym} 2150 -670 2 1 {name=p4 sig_type=std_logic lab=Out_n}
C {devices/lab_pin.sym} 2150 -490 1 1 {name=p13 sig_type=std_logic lab=vss}
C {devices/lab_pin.sym} 2150 -540 0 0 {name=p15 sig_type=std_logic lab=VCM}
C {devices/lab_pin.sym} 2300 -770 2 1 {name=p18 sig_type=std_logic lab=f2}
C {devices/lab_pin.sym} 2190 -710 2 1 {name=p19 sig_type=std_logic lab=f1}
C {devices/lab_pin.sym} 2370 -700 2 1 {name=p20 sig_type=std_logic lab=f3}
C {devices/lab_pin.sym} 2480 -420 0 1 {name=p22 sig_type=std_logic lab=VCMFB}
