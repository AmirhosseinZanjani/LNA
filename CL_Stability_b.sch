v {xschem version=3.1.0 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
N -1266.25 138.75 -1266.25 158.75 {
lab=#net1}
N -1266.25 158.75 -1196.25 158.75 {
lab=#net1}
N -1196.25 158.75 -1106.25 158.75 {
lab=#net1}
N -1106.25 138.75 -1106.25 158.75 {
lab=#net1}
N -1156.25 128.75 -1146.25 128.75 {
lab=0}
N -1156.25 128.75 -1156.25 228.75 {
lab=0}
N -1196.25 228.75 -1156.25 228.75 {
lab=0}
N -1306.25 228.75 -1196.25 228.75 {
lab=0}
N -1306.25 128.75 -1306.25 228.75 {
lab=0}
N -1191.25 218.75 -1191.25 228.75 {
lab=0}
N -1326.25 58.75 -1326.25 88.75 {
lab=VIN1}
N -1326.25 58.75 -1161.25 58.75 {
lab=VIN1}
N -1266.25 -31.25 -1266.25 78.75 {
lab=VINP1}
N -1106.25 -26.25 -1106.25 78.75 {
lab=VINN1}
N -1431.25 88.75 -1431.25 113.75 {
lab=VIN1}
N -1431.25 88.75 -1376.25 88.75 {
lab=VIN1}
N -1431.25 173.75 -1431.25 228.75 {
lab=0}
N -1431.25 228.75 -1306.25 228.75 {
lab=0}
N -1376.25 88.75 -1306.25 88.75 {
lab=VIN1}
N -1161.25 58.75 -1146.25 58.75 {
lab=VIN1}
N -1146.25 58.75 -1146.25 88.75 {
lab=VIN1}
N -1431.25 168.75 -1431.25 173.75 {
lab=0}
N 21.25 -41.25 81.25 -41.25 {
lab=outp}
N 11.25 38.75 81.25 38.75 {
lab=outn}
N -388.75 -251.25 -388.75 -51.25 {
lab=in_p1}
N -388.75 -421.25 -388.75 -251.25 {
lab=in_p1}
N -388.75 -421.25 -238.75 -421.25 {
lab=in_p1}
N 21.25 -431.25 21.25 -41.25 {
lab=outp}
N -178.75 -421.25 21.25 -421.25 {
lab=outp}
N -388.75 -671.25 -388.75 -421.25 {
lab=in_p1}
N -388.75 -671.25 -238.75 -671.25 {
lab=in_p1}
N -178.75 -671.25 21.25 -671.25 {
lab=outp}
N 21.25 -671.25 21.25 -431.25 {
lab=outp}
N -388.75 638.75 -238.75 638.75 {
lab=in_n1}
N -178.75 638.75 21.25 638.75 {
lab=outn}
N 21.25 38.75 21.25 638.75 {
lab=outn}
N -388.75 38.75 -388.75 638.75 {
lab=in_n1}
N -388.75 318.75 -238.75 318.75 {
lab=in_n1}
N -178.75 318.75 21.25 318.75 {
lab=outn}
N -588.75 -211.25 -388.75 -211.25 {
lab=in_p1}
N -588.75 228.75 -388.75 228.75 {
lab=in_n1}
N -788.75 -211.25 -648.75 -211.25 {
lab=#net2}
N -948.75 -211.25 -848.75 -211.25 {
lab=VINP1}
N -788.75 228.75 -648.75 228.75 {
lab=#net3}
N -898.75 228.75 -848.75 228.75 {
lab=VINN1}
N 61.25 -32.5 122.5 -32.5 {
lab=outp}
N 61.25 -41.25 61.25 -32.5 {
lab=outp}
N 61.25 7.5 122.5 7.5 {
lab=outn}
N 61.25 7.5 61.25 37.5 {
lab=outn}
N 61.25 37.5 61.25 38.75 {
lab=outn}
N 312.5 -32.5 333.75 -32.5 {
lab=o2}
N 312.5 7.5 333.75 7.5 {
lab=o1}
N 11.25 -41.25 22.5 -41.25 {
lab=outp}
N -168.75 128.75 -168.75 207.5 {
lab=#net4}
N 1482.5 -43.75 1542.5 -43.75 {
lab=outpl}
N 1472.5 36.25 1542.5 36.25 {
lab=outnl}
N 872.5 -213.75 1072.5 -213.75 {
lab=VINP1}
N 872.5 226.25 1072.5 226.25 {
lab=VINN1}
N 1522.5 -35 1583.75 -35 {
lab=outpl}
N 1522.5 -43.75 1522.5 -35 {
lab=outpl}
N 1522.5 5 1583.75 5 {
lab=outnl}
N 1522.5 5 1522.5 35 {
lab=outnl}
N 1522.5 35 1522.5 36.25 {
lab=outnl}
N 1773.75 -35 1795 -35 {
lab=o2l}
N 1773.75 5 1795 5 {
lab=o1l}
N 1472.5 -43.75 1483.75 -43.75 {
lab=outpl}
N 1292.5 126.25 1292.5 205 {
lab=#net5}
N 1072.5 36.25 1072.5 225 {
lab=VINN1}
N 1072.5 225 1072.5 226.25 {
lab=VINN1}
N 1072.5 -215 1072.5 -55 {
lab=VINP1}
N 1072.5 -55 1072.5 -53.75 {
lab=VINP1}
N 1703.75 141.25 1703.75 158.75 {
lab=OL}
N 220 160 220 177.5 {
lab=CL}
C {LNA/LNA_ac.sym} -258.75 -1.25 0 0 {name=x1}
C {devices/vsource.sym} -796.25 -533.75 0 0 {name=V1 value=1.8}
C {devices/lab_pin.sym} -796.25 -503.75 3 0 {name=p1 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} -796.25 -563.75 1 0 {name=p2 sig_type=std_logic lab=vdd}
C {devices/lab_pin.sym} -218.75 -141.25 1 0 {name=p3 sig_type=std_logic lab=vdd}
C {devices/lab_pin.sym} -158.75 -131.25 1 0 {name=p4 sig_type=std_logic lab=cm}
C {devices/vsource.sym} -706.25 -533.75 0 0 {name=V2 value=0.9}
C {devices/lab_pin.sym} -706.25 -503.75 3 0 {name=p5 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} -706.25 -563.75 1 0 {name=p6 sig_type=std_logic lab=cm}
C {devices/lab_pin.sym} -208.75 138.75 3 0 {name=p7 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} -108.75 98.75 3 0 {name=p8 sig_type=std_logic lab=0}
C {devices/vcvs.sym} -1266.25 108.75 0 0 {name=E1 value=0.5
}
C {devices/vcvs.sym} -1106.25 108.75 0 0 {name=E7 value=-0.5
}
C {devices/vsource.sym} -1191.25 188.75 0 0 {name=V4 value=0.9}
C {devices/lab_pin.sym} -1351.25 228.75 3 0 {name=p23 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} -1431.25 88.75 0 0 {name=p24 sig_type=std_logic lab=VIN1}
C {devices/lab_pin.sym} -1266.25 -16.25 2 1 {name=p26 sig_type=std_logic lab=VINP1}
C {devices/lab_pin.sym} -1106.25 -26.25 0 1 {name=p28 sig_type=std_logic lab=VINN1}
C {devices/vsource.sym} -1431.25 141.25 0 0 {name=V7 value="AC 1"}
C {devices/lab_pin.sym} -896.25 228.75 2 1 {name=p9 sig_type=std_logic lab=VINN1}
C {devices/lab_pin.sym} -946.25 -211.25 2 1 {name=p10 sig_type=std_logic lab=VINP1}
C {devices/lab_pin.sym} 81.25 -41.25 2 0 {name=p11 sig_type=std_logic lab=outp}
C {devices/lab_pin.sym} 81.25 38.75 2 0 {name=p12 sig_type=std_logic lab=outn}
C {devices/launcher.sym} -1315 -357.5 0 0 {name=h1
descr="Annotate" 
tclcommand="set show_hidden_texts 1; xschem annotate_op"
}
C {sky130_fd_pr/corner.sym} -1155 -577.5 0 0 {name=CORNER2 only_toplevel=false corner=ff
}
C {devices/launcher.sym} -1315 -297.5 0 0 {name=h2 
descr="Simulate" 
tclcommand="xschem netlist; xschem simulate"}
C {devices/code.sym} -1365 -577.5 0 0 {name=STIMULI
only_toplevel=false
value="
.options savecurrents
*ic v(VM5)=0.9 v(VM6)=0.9
.control


save all

save @m.xm11.msky130_fd_pr__pfet_01v8_lvt[id]
save @m.xm11.msky130_fd_pr__pfet_01v8_lvt[vgs]


*nmos
save @m.xm3.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm3.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm3.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm6.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm6.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm6.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm8.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm8.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm8.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm9.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm9.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm9.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm18.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm18.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm18.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm19.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm19.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm19.msky130_fd_pr__nfet_01v8_lvt[vds]

save @m.xm25.msky130_fd_pr__nfet_01v8_lvt[vgs]
save @m.xm25.msky130_fd_pr__nfet_01v8_lvt[vth]
save @m.xm25.msky130_fd_pr__nfet_01v8_lvt[vds]

*pmos

save @m.xm1.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm1.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm1.msky130_fd_pr__pfet_01v8_lvt[vds]


save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds]


save @m.xm10.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm10.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm10.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm13.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm13.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm13.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm4.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm4.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm4.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm5.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm5.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm5.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm16.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm16.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm16.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm17.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm17.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm17.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm3.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm3.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm3.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm20.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm20.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm20.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm21.msky130_fd_pr__pfet_01v8_lvt[vgs]
save @m.xm21.msky130_fd_pr__pfet_01v8_lvt[vth]
save @m.xm21.msky130_fd_pr__pfet_01v8_lvt[vds]

save @m.xm7.msky130_fd_pr__nfet_01v8_lvt[vth]

save @m.xm1.msky130_fd_pr__pfet_01v8[vgs]

save @m.xm1.msky130_fd_pr__nfet_01v8_lvt[gm]


save @m.xm1.msky130_fd_pr__nfet_01v8_lvt[gds]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[gm]

save @m.xm23.msky130_fd_pr__nfet_01v8[cgs]
save @m.xm4.msky130_fd_pr__pfet_01v8[cgs]
save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[cgs]



save @m.xm2.msky130_fd_pr__pfet_01v8_lvt[gds]


op
write CL_ac.raw
*set appendwrite


.endc
.control



*tran 50u 1500m
*save all
*plot v(Outp)-v(outn)


noise V(Outp,Outn) V7 dec 100 0.1 128
print inoise_total onoise_total
setplot noise1
plot inoise_spectrum

ac dec 10 0.1 1000k
let gaind=(v(outp)-v(outn))/(v(in_p1)-v(in_n1))
let lg=vr/VIN1
let BG=(OL/CL)-1
let phase=180*cph(BG)/pi
plot db(gaind)
plot db(BG) phase


.endc



"}
C {devices/code.sym} -1565 -577.5 0 0 {name=STDCELLS_MODELS
only_toplevel=true
format="tcleval( @value )"
value="
.include $::SKYWATER_STDCELLS/sky130_fd_sc_hd.spice
"
spice_ignore=false}
C {devices/res.sym} -208.75 -421.25 1 0 {name=R1
value=225G
footprint=1206
device=resistor
m=1}
C {sky130_fd_pr/cap_mim_m3_2.sym} -208.75 -671.25 1 0 {name=C1 model=cap_mim_m3_2 W=5 L=5 MF=19 spiceprefix=X}
C {sky130_fd_pr/cap_mim_m3_2.sym} -208.75 638.75 1 0 {name=C2 model=cap_mim_m3_2 W=5 L=5 MF=19 spiceprefix=X}
C {devices/res.sym} -208.75 318.75 1 0 {name=R2
value=225G
footprint=1206
device=resistor
m=1}
C {sky130_fd_pr/cap_mim_m3_2.sym} -618.75 -211.25 1 0 {name=C3 model=cap_mim_m3_2 W=12 L=10 MF=1500 spiceprefix=X}
C {sky130_fd_pr/cap_mim_m3_2.sym} -618.75 228.75 1 0 {name=C4 model=cap_mim_m3_2 W=12 L=10 MF=1500 spiceprefix=X}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} -818.75 -211.25 1 0 {name=R3
L=20
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_xhigh_po_0p35.sym} -818.75 228.75 1 0 {name=R4
L=20
model=res_xhigh_po_0p35
spiceprefix=X
mult=1}
C {devices/lab_pin.sym} -818.75 -231.25 1 0 {name=p13 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} -818.75 208.75 1 0 {name=p14 sig_type=std_logic lab=0}
C {LNA/AAFilter.sym} 232.5 27.5 0 0 {name=x3}
C {devices/lab_pin.sym} 212.5 47.5 3 0 {name=p15 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 242.5 -72.5 1 0 {name=p16 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 192.5 -72.5 1 0 {name=p21 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 332.5 -32.5 1 0 {name=p22 sig_type=std_logic lab=o2}
C {devices/lab_pin.sym} 332.5 7.5 3 0 {name=p25 sig_type=std_logic lab=o1}
C {devices/lab_pin.sym} -138.75 108.75 3 0 {name=p17 sig_type=std_logic lab=0}
C {LNA/Bias_Core.sym} -298.75 207.5 0 0 {name=X2}
C {devices/lab_pin.sym} -288.75 147.5 1 0 {name=p18 sig_type=std_logic lab=vdd}
C {devices/lab_pin.sym} -368.75 207.5 1 0 {name=p19 sig_type=std_logic lab=cm}
C {devices/lab_pin.sym} -288.75 267.5 3 0 {name=p20 sig_type=std_logic lab=0}
C {LNA/LNA_ac.sym} 1202.5 -3.75 0 0 {name=x4}
C {devices/lab_pin.sym} 1242.5 -143.75 1 0 {name=p30 sig_type=std_logic lab=vdd}
C {devices/lab_pin.sym} 1302.5 -133.75 1 0 {name=p31 sig_type=std_logic lab=cm}
C {devices/lab_pin.sym} 1252.5 136.25 3 0 {name=p34 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 1352.5 96.25 3 0 {name=p35 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 872.5 226.25 2 1 {name=p36 sig_type=std_logic lab=VINN1}
C {devices/lab_pin.sym} 872.5 -213.75 2 1 {name=p37 sig_type=std_logic lab=VINP1}
C {devices/lab_pin.sym} 1542.5 -43.75 2 0 {name=p38 sig_type=std_logic lab=outpl}
C {devices/lab_pin.sym} 1542.5 36.25 2 0 {name=p39 sig_type=std_logic lab=outnl}
C {LNA/AAFilter.sym} 1693.75 25 0 0 {name=x5}
C {devices/lab_pin.sym} 1673.75 45 3 0 {name=p42 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 1703.75 -75 1 0 {name=p43 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 1653.75 -75 1 0 {name=p44 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 1793.75 -35 1 0 {name=p45 sig_type=std_logic lab=o2l}
C {devices/lab_pin.sym} 1793.75 5 3 0 {name=p46 sig_type=std_logic lab=o1l}
C {devices/lab_pin.sym} 1322.5 106.25 3 0 {name=p47 sig_type=std_logic lab=0}
C {LNA/Bias_Core.sym} 1162.5 205 0 0 {name=X6}
C {devices/lab_pin.sym} 1172.5 145 1 0 {name=p48 sig_type=std_logic lab=vdd}
C {devices/lab_pin.sym} 1092.5 205 1 0 {name=p49 sig_type=std_logic lab=cm}
C {devices/lab_pin.sym} 1172.5 265 3 0 {name=p50 sig_type=std_logic lab=0}
C {devices/vcvs.sym} 1703.75 188.75 0 0 {name=E2 value=-1
}
C {devices/lab_pin.sym} 1663.75 168.75 0 0 {name=p27 sig_type=std_logic lab=outpl}
C {devices/lab_pin.sym} 1663.75 208.75 0 0 {name=p29 sig_type=std_logic lab=outnl}
C {devices/lab_pin.sym} 1703.75 218.75 3 0 {name=p32 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 1703.75 141.25 0 0 {name=p33 sig_type=std_logic lab=OL}
C {devices/vcvs.sym} 220 207.5 0 0 {name=E3 value=-1
}
C {devices/lab_pin.sym} 180 187.5 0 0 {name=p40 sig_type=std_logic lab=outp}
C {devices/lab_pin.sym} 180 227.5 0 0 {name=p41 sig_type=std_logic lab=outn}
C {devices/lab_pin.sym} 220 237.5 3 0 {name=p51 sig_type=std_logic lab=0}
C {devices/lab_pin.sym} 220 160 0 0 {name=p52 sig_type=std_logic lab=CL}
C {devices/lab_pin.sym} -388.75 -256.25 2 1 {name=p53 sig_type=std_logic lab=in_p1}
C {devices/lab_pin.sym} -388.75 151.25 2 1 {name=p54 sig_type=std_logic lab=in_n1}
